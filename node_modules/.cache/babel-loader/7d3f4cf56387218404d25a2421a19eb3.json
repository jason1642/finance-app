{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jasoncruz/Documents/clones/finance-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/jasoncruz/Documents/clones/finance-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/jasoncruz/Documents/clones/finance-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jasoncruz/Documents/clones/finance-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/jasoncruz/Documents/clones/finance-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  display: flex;\\n  margin: 0 20px 10px 0;\\n  justify-content: space-between;\\n  \"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n    align-items: center;\\n    font-size: 14px;\\n    font-weight: bold;\\n    color: white;\\n  \"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-content: center;\\n  \"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    min-width: 90px;\\n    display: flex;\\n    flex-direction: column;\\n    flex: 1 1 0px;\\n    padding: 12px 16px;\\n    background-color : #40424f;\\n    border-radius: 3px;\\n    margin-right: 20px;\\n    float: right;\\n    border-left: 3px solid yellow;\\n    &:hover {\\n      background-color: #4d505f;\\n      cursor: pointer;\\n    }\\n    @media (max-width: 700px){\\n\\n    }\\n    \"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    display: flex;\\n    /* flex-grow: 1; */\\n    margin-right: -20px;\\n    flex-wrap: wrap;\\n    justify-content: space-around;\\n    \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';import'./MarketOverview.scss';import isMarketOpenFunction from'../../../../resources/isMarketOpenFunction.jsx';var MarketPriceTable=function MarketPriceTable(){console.log(isMarketOpenFunction.isItPremarket());console.log(isMarketOpenFunction.isItAfterHours());var Container=styled.div(_templateObject());//tiles\nvar MarketTile=styled.div(_templateObject2());var MarketTileRow=styled.div(_templateObject3());var MarketTileIndexName=styled.div(_templateObject4());//tiles\nvar PairContainer=styled.div(_templateObject5());var colors1=['#52e3c2','#ff4495'];var colors2=['#d211fe','#40c4ff'];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),marketOverviewData=_useState2[0],setMarketOverviewData=_useState2[1];var fourMarkets=['SPY','QQQ','IWM','DIA'];var fourMarketsNames=[{symbol:'SPY',name:'S&P 500'},{symbol:'QQQ',name:'Nasdaq'},{symbol:'IWM',name:'Russell 2K'},{symbol:'DIA',name:'Dow'}];var marketDataArray=[];useEffect(function(){var FMP_API_KEY='0dafce6ce2fa49c8f0acd0ac316dfa33';var IEX_API_KEY='pk_3256652724eb490abdfd234401050f50';fourMarkets.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ele){var fetchStockData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchStockData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://cloud.iexapis.com/stable/stock/\".concat(ele,\"/quote?token=\").concat(IEX_API_KEY));case 2:response=_context.sent;setMarketOverviewData(function(oldArr){return[].concat(_toConsumableArray(oldArr),[response.data]);});// console.log(response.data)\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchStockData(){return _ref2.apply(this,arguments);};}();setMarketOverviewData(marketDataArray);fetchStockData();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());},[]);var pairContainerFunction=function pairContainerFunction(sliceStart,sliceUpTo,colorArr){return marketOverviewData.slice(sliceStart,sliceUpTo).map(function(ele,i){return/*#__PURE__*/React.createElement(MarketTile,{style:{marginRight:i===1?'0':'20px',borderLeft:\"3px solid \".concat(colorArr[i])}},/*#__PURE__*/React.createElement(MarketTileRow,null,/*#__PURE__*/React.createElement(MarketTileIndexName,null,fourMarketsNames.filter(function(str){return str.symbol===ele.symbol;})[0].name),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{style:{color:ele.changePercent>=0?'#52e3c2':'#ff4463',fontSize:'12px',alignContent:'center'}},/*#__PURE__*/React.createElement(\"i\",{style:{display:'inline',fontSize:'14px'},class:ele.changePercent>=0?\"fas fa-caret-up\":\"fas fa-caret-down\"}),(ele.changePercent*100).toFixed(2).toString(),\"%\"))),/*#__PURE__*/React.createElement(MarketTileRow,{style:{fontSize:'12px',marginTop:'4px'}},/*#__PURE__*/React.createElement(\"div\",{style:{color:\"#b4b8cd\",fontWeight:300,fontSize:'12px'}},isMarketOpenFunction.isItPremarket()?'Pre Market':isMarketOpenFunction.isItAfterHours()?'After Hours':'')));});};console.log(marketOverviewData);return marketDataArray?/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(PairContainer,null,marketOverviewData?pairContainerFunction(0,2,colors1):/*#__PURE__*/React.createElement(React.Fragment,null)),/*#__PURE__*/React.createElement(PairContainer,null,marketOverviewData?pairContainerFunction(2,4,colors2):/*#__PURE__*/React.createElement(React.Fragment,null))):/*#__PURE__*/React.createElement(React.Fragment,null);};export default MarketPriceTable;// after hours through weekend","map":{"version":3,"sources":["/Users/jasoncruz/Documents/clones/finance-app/src/components/HomePage/LeftColumn/MarketOverview/MarketPriceTable.jsx"],"names":["React","useState","useEffect","styled","axios","isMarketOpenFunction","MarketPriceTable","console","log","isItPremarket","isItAfterHours","Container","div","MarketTile","MarketTileRow","MarketTileIndexName","PairContainer","colors1","colors2","marketOverviewData","setMarketOverviewData","fourMarkets","fourMarketsNames","symbol","name","marketDataArray","FMP_API_KEY","IEX_API_KEY","map","ele","fetchStockData","get","response","oldArr","data","pairContainerFunction","sliceStart","sliceUpTo","colorArr","slice","i","marginRight","borderLeft","filter","str","color","changePercent","fontSize","alignContent","display","toFixed","toString","marginTop","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport axios from 'axios'\nimport './MarketOverview.scss'\nimport isMarketOpenFunction from '../../../../resources/isMarketOpenFunction.jsx'\n\n\n\nconst MarketPriceTable = () => {\n\n  console.log(isMarketOpenFunction.isItPremarket())\n  console.log(isMarketOpenFunction.isItAfterHours())\n\n  const Container = styled.div`\n    display: flex;\n    /* flex-grow: 1; */\n    margin-right: -20px;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    `;\n  //tiles\n  const MarketTile = styled.div`\n    min-width: 90px;\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 0px;\n    padding: 12px 16px;\n    background-color : #40424f;\n    border-radius: 3px;\n    margin-right: 20px;\n    float: right;\n    border-left: 3px solid yellow;\n    &:hover {\n      background-color: #4d505f;\n      cursor: pointer;\n    }\n    @media (max-width: 700px){\n\n    }\n    `;\n\n  const MarketTileRow = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-content: center;\n  `;\n\n  const MarketTileIndexName = styled.div`\n    align-items: center;\n    font-size: 14px;\n    font-weight: bold;\n    color: white;\n  `;\n\n  //tiles\n  const PairContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  margin: 0 20px 10px 0;\n  justify-content: space-between;\n  `;\n\n  const colors1 = ['#52e3c2', '#ff4495']\n  const colors2 = ['#d211fe', '#40c4ff']\n\n  const [marketOverviewData, setMarketOverviewData] = useState([])\n  const fourMarkets = ['SPY', 'QQQ', 'IWM', 'DIA']\n  const fourMarketsNames = [\n    { symbol: 'SPY', name: 'S&P 500' },\n    { symbol: 'QQQ', name: 'Nasdaq' },\n    { symbol: 'IWM', name: 'Russell 2K' },\n    { symbol: 'DIA', name: 'Dow' }\n  ]\n\n  let marketDataArray = []\n  useEffect(() => {\n\n    const FMP_API_KEY = '0dafce6ce2fa49c8f0acd0ac316dfa33';\n    const IEX_API_KEY = 'pk_3256652724eb490abdfd234401050f50';\n\n\n\n    fourMarkets.map(async ele => {\n      const fetchStockData = async () => {\n        const response = await axios.get(`https://cloud.iexapis.com/stable/stock/${ele}/quote?token=${IEX_API_KEY}`)\n        setMarketOverviewData(oldArr => [...oldArr, response.data])\n        // console.log(response.data)\n      }\n      setMarketOverviewData(marketDataArray)\n      fetchStockData()\n    })\n  }, [])\n\n\n  const pairContainerFunction = (sliceStart, sliceUpTo, colorArr) => {\n    return marketOverviewData.slice(sliceStart, sliceUpTo).map((ele, i) =>\n\n      <MarketTile style={{ marginRight: i === 1 ? '0' : '20px', borderLeft: `3px solid ${colorArr[i]}` }}>\n\n\n        <MarketTileRow>\n          <MarketTileIndexName>\n            {fourMarketsNames.filter(str => str.symbol === ele.symbol)[0].name\n            }\n          </MarketTileIndexName>\n          <div>\n            <span style={{ color: ele.changePercent >= 0 ? '#52e3c2' : '#ff4463', fontSize: '12px', alignContent: 'center' }}><i style={{ display: 'inline', fontSize: '14px' }} class={ele.changePercent >= 0 ? \"fas fa-caret-up\" : \"fas fa-caret-down\"}></i>{(ele.changePercent * 100).toFixed(2).toString()}%</span>\n          </div>\n        </MarketTileRow>\n\n        <MarketTileRow style={{ fontSize: '12px', marginTop: '4px' }}>\n\n          <div style={{ color: \"#b4b8cd\", fontWeight: 300, fontSize: '12px' }}>\n            {isMarketOpenFunction.isItPremarket() ? 'Pre Market' : isMarketOpenFunction.isItAfterHours() ? 'After Hours' : ''}\n          </div>\n\n          {/* <div style={{ color: ele.changePercent >= 0 ? '#52e3c2' : '#ff4463', fontSize: '12px', alignContent: 'center' }}>\n            <i style={{ display: 'inline' }} class={ele.changePercent >= 0 ? \"fas fa-caret-up\" : \"fas fa-caret-down\"}></i>{(ele.changePercent * 100).toFixed(2).toString()}%\n          </div> */}\n        </MarketTileRow>\n\n\n      </MarketTile>\n\n\n\n    )\n  }\n\n\n\n\n  console.log(marketOverviewData)\n\n\n  return (marketDataArray ?\n    <Container>\n\n\n      <PairContainer>\n\n        {marketOverviewData ? pairContainerFunction(0, 2, colors1) : <></>}\n      </PairContainer>\n\n\n      <PairContainer>\n        {marketOverviewData ? pairContainerFunction(2, 4, colors2) : <></>}\n\n\n      </PairContainer>\n\n\n    </Container> : <></>\n  );\n}\n\nexport default MarketPriceTable;\n\n\n// after hours through weekend"]},"metadata":{},"sourceType":"module"}